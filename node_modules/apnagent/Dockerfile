FROM logicalparadox/nodejs:stable
MAINTAINER Jake Luer <jake@alogicalparadox.com>

ADD package.json /tmp/package.json
RUN cd /tmp && \
  npm install && \
  mkdir -p /app && \
  cp -a /tmp/node_modules /app/ && \
  rm -rf /tmp/*

WORKDIR /app
ADD . /app

EXPOSE 3000

CMD [ "docs" ]
ENTRYPOINT [ "npm", "run" ]
